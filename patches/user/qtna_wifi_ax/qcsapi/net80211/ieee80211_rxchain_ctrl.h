/* SPDX-License-Identifier: GPL-2.0 */
/*
 *
 * Copyright (c) 2020 Quantenna Communications, Inc.
 */

#ifndef _IEEE80211_RXCHAIN_CTRL_H
#define _IEEE80211_RXCHAIN_CTRL_H

#define IEEE80211_RXCHAIN_CTRL_OFF		0
#define IEEE80211_RXCHAIN_CTRL_ON		1
#define IEEE80211_RXCHAIN_CTRL_DEFAULT		IEEE80211_RXCHAIN_CTRL_OFF
#define IEEE80211_RXCHAIN_CTRL_ENABLE_MASK      0x1
#define IEEE80211_RXCHAIN_CTRL_ENABLE_MASK_S	0
#define IEEE80211_RXCHAIN_CTRL_ASSOC_CNT_DEFAULT	0
#define IEEE80211_RXCHAIN_CTRL_ASSOC_CNT_MAX		1
#define IEEE80211_RXCHAIN_CTRL_ASSOC_CNT_MASK		0x2
#define IEEE80211_RXCHAIN_CTRL_ASSOC_CNT_MASK_S		1
#define IEEE80211_RXCHAIN_CTRL_CHAIN_SET_MASK		0xFF00
#define IEEE80211_RXCHAIN_CTRL_CHAIN_SET_MASK_S		8
#define IEEE80211_RXCHAIN_CTRL_VALID_CHAIN_RSSI_CNT	1

#define IEEE80211_RXCHAIN_CTRL_MODE_DEFAULT	0x100
#define IEEE80211_RXCHAIN_CTRL_MODE_MASK	0x100
#define IEEE80211_RXCHAIN_CTRL_MODE_MASK_S      8
#define IEEE80211_RXCHAIN_CTRL_CHAIN_MASK	0xFF
#define IEEE80211_RXCHAIN_CTRL_CHAIN_MASK_S	0
#define IEEE80211_RXCHAIN_CTRL_LO_CHAINMASK	0xF
#define IEEE80211_RXCHAIN_CTRL_LO_CHAINMASK_S   0
#define IEEE80211_RXCHAIN_CTRL_UP_CHAINMASK	0xF0
#define IEEE80211_RXCHAIN_CTRL_UP_CHAINMASK_S	4

#define GET_RXCHAIN_CTRL_MODE(_x) \
	(MS((_x), IEEE80211_RXCHAIN_CTRL_ENABLE_MASK))

#define GET_RXCHAIN_CTRL_CHAIN_MASK(_x) \
	(MS((_x), IEEE80211_RXCHAIN_CTRL_CHAIN_SET_MASK))

#define IS_RXCHAIN_CTRL_MODE_ACTIVE(_x)\
	(MS((_x), IEEE80211_RXCHAIN_CTRL_MODE_MASK) != 0)

#endif /* _IEEE80211_RXCHAIN_CTRL_H */

